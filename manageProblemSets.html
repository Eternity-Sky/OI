<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>管理题单</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h2>管理题单</h2>
        <div id="problemSetsList"></div>
        <div class="footer">
            <a href="index.html" class="back-button">返回首页</a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 检查是否是管理员
            const currentUser = localStorage.getItem('currentUser');
            if (currentUser !== 'kkks403') {
                alert('没有权限');
                window.location.href = 'index.html';
                return;
            }

            // 显示题单列表
            const problemSets = JSON.parse(localStorage.getItem('problemSets') || '{}');
            const listDiv = document.getElementById('problemSetsList');

            Object.entries(problemSets).forEach(([name, info]) => {
                const setDiv = document.createElement('div');
                setDiv.className = 'problem-set';
                setDiv.innerHTML = `
                    <h3>${name}</h3>
                    <p>${info.description}</p>
                    <button onclick="deleteProblemSet('${name}')" class="delete-btn">
                        <i class="fas fa-trash"></i> 删除题单
                    </button>
                `;
                listDiv.appendChild(setDiv);
            });
        });

        function deleteProblemSet(name) {
            if (confirm(`确定要删除题单"${name}"吗？`)) {
                const problemSets = JSON.parse(localStorage.getItem('problemSets') || '{}');
                delete problemSets[name];
                localStorage.setItem('problemSets', JSON.stringify(problemSets));
                location.reload();
            }
        }
    </script>
</body>
</html> 