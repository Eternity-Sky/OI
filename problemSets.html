<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>题单</title>
    <link rel="stylesheet" href="styles.css">
    <script src="problems.js"></script>
    <script src="auth.js"></script>
</head>
<body>
    <div class="container">
        <div id="problemSets">
            <!-- 题单内容 -->
        </div>
        <div class="footer">
            <a href="index.html" class="about-button">返回首页</a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const problemSetsDiv = document.getElementById('problemSets');
            
            for (const [setName, setInfo] of Object.entries(problemSets)) {
                const setDiv = document.createElement('div');
                setDiv.className = 'problem-set';
                
                // 创建题单标题和描述
                setDiv.innerHTML = `
                    <h2>${setName}</h2>
                    <p class="set-description">${setInfo.description}</p>
                    <p class="set-time">比赛时间：${setInfo.date} ${setInfo.time}</p>
                `;

                // 创建题目列表
                const problemList = document.createElement('div');
                problemList.className = 'problem-list';
                
                setInfo.problems.forEach(problemId => {
                    const problem = problems.find(p => p.id === problemId);
                    if (problem) {
                        const problemDiv = document.createElement('div');
                        problemDiv.className = 'problem-item';
                        problemDiv.innerHTML = `
                            <a href="problem.html?id=${problem.id}">${problem.title}</a>
                            <span class="difficulty-${problem.difficulty.toLowerCase()}">${problem.difficulty}</span>
                        `;
                        problemList.appendChild(problemDiv);
                    }
                });

                setDiv.appendChild(problemList);

                // 添加详细信息
                if (setInfo.details) {
                    const detailsDiv = document.createElement('div');
                    detailsDiv.className = 'set-details';
                    detailsDiv.innerHTML = `
                        <h3>比赛详情</h3>
                        <p><strong>时间限制：</strong></p>
                        <ul>
                            ${Object.entries(setInfo.details.timeLimit).map(([name, limit]) => 
                                `<li>${name}: ${limit}</li>`
                            ).join('')}
                        </ul>
                        <p><strong>内存限制：</strong>${setInfo.details.memoryLimit}</p>
                        <p><strong>编译选项：</strong>${Object.entries(setInfo.details.compiler).map(([lang, opts]) => 
                            `${lang}: ${opts}`
                        ).join(', ')}</p>
                        <h4>注意事项：</h4>
                        <ul>
                            ${setInfo.details.notes.map(note => 
                                `<li>${note}</li>`
                            ).join('')}
                        </ul>
                    `;
                    setDiv.appendChild(detailsDiv);
                }

                problemSetsDiv.appendChild(setDiv);
            }
        });
    </script>
</body>
</html> 